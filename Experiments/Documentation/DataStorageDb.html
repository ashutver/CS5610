<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Documentation</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Database Page</h1>
        <p>
            Mongo Database hosted on 
        <a href="https://nodejs-cs5010ashutver.rhcloud.com/rockmongo/index.php?action=admin.index">
                                         https://nodejs-cs5010ashutver.rhcloud.com/rockmongo/index.php?action=admin.index </a> 
        that holds various collections used in my project. They are: <br>
            1)  Workout <br>
            This collection is used to store user created workout. if the workout is published then other users can view it. it also 
         contains list of user ids that are following this workout.
            The schema for workout collection is: <br>
            <span id="text">
            </span>
        </p><pre>var WorkoutSchema = new mongoose.Schema({
                                        creationdate: { type: Date, default: Date.now },
                                        description: String,
                                        userid: String,
                                        publish: Boolean,
                                        followers: Number,
                                        followersid :[String]
                                    }, { collection: "workout" });
            </pre>
        <br> 2) Day <br/>
        This collection stores all the days related information for a workout. this works like a relational database where it will have
        a foreign key to workout. it will contain exercises that need to be performed on this day<br/>
         The schema for Day collection is: <br>
        <span id="text">
            <pre>var DaySchema = new mongoose.Schema({
                                workoutid: String,
                                description: String,
                                days: Number,
                                exercises:[ExerciseRepModel],
                                order :Number},
                                {collection: "day" })
                            var DayModel = mongoose.model("DayModel", DaySchema);
            </pre>
        </span>
        <br> 3) Exercise Repetions: <br>
        This collection contains all the exercises needed to be performed on particular day. It will contain exercise name along with number
        of sets and repetitions.
        <span id="text">
            <pre>
                     var ExerciseRepModel = new mongoose.Schema({
                                    exercisename: String,
                                    reps: Number,
                                    sets: Number
                                },
                                    { collection: "exercise" });
           
                </pre>
        </span>
        
        <br> 4) Exercise schema : <br>
        This collection is used to store user comments on exercise detail page. 
        <span id="text">
            <pre>
                    var ExerciseSchema = new mongoose.Schema({
                    exerciseid: Number,
                    comment: [CommentSchema]},
                    {collection : "exercise"});
                    var ExerciseModel = mongoose.model("ExerciseModel", ExerciseSchema);
           
                </pre>
            </span>
        <br> 5) Comment schema : <br>
        Comment schema used above in Exercise schema is used to store all comments
        <span id="text">
            <pre>var CommentSchema = new mongoose.Schema({
                                        userid: String,
                                        commentdesc: String,
                                        creationdate: { type: Date, default: Date.now }
                                    },
                                    { collection: "comment" });
            </pre>
        </span>
        <br> 6) User Profile schema : <br>
        User schema is used to store user information. it also contains user's comments.
        <span id="text">
            <pre>var UserProfileSchema = new mongoose.Schema({
                            username: String,
                            password: String,
                            email: String,
                            role: String,
                            firstname: String,
                            lastname: String,
                            pic: String,
                            comment: [CommentUserSchema]
                       }, { collection: "usermodel" });
            </pre>
        </span>
        <br> 7) Comment User schema: <br>
        It contains user's comments at various exercise details pages. here commentid is the comment id from comment schema that 
        will be stored in exerice schema. This is necessary as if user wants to delete comment on his profile page then it should 
        be deleted from exercise schema too.
        <span id="text">
            <pre>var CommentUserSchema = new mongoose.Schema({
                            commentid: String,
                            commentdesc: String,
                            creationdate: { type: Date, default: Date.now },
                            exercisename :String
                        },
                            { collection: "usercomment" });
                </pre>
        </span>
        <hr />
        <a href="LoginFunctionality.html" class="next">Next Page</a>
</div>
</body>
</html>
